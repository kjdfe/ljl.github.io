WEBVTT
Kind: captions
Language: zh-CN

00:00:00.025 --> 00:00:03.417
现在我要从之前我们写的 除了假设每个月都有30天以外

00:00:03.417 --> 00:00:06.814
其他都正确的代码开始写 首先第一步是

00:00:06.814 --> 00:00:10.335
定义一个 daysInMonth 函数雏形 能够给出一个月的天数

00:00:10.335 --> 00:00:14.272
但是对于我们的函数雏形 我们只让它返回 30

00:00:14.272 --> 00:00:18.631
我将修改 nextDay 来调用 daysInMonth 这非常简单

00:00:18.631 --> 00:00:21.628
然后我应该开始测试了 我将写一些代码用于测试

00:00:21.628 --> 00:00:24.879
这样就不用在 shell 里面不停输入同样的测试了

00:00:24.879 --> 00:00:28.928
因此写些代码来测试 对于提供的问题 这里也已经有些提供的测试用例了

00:00:28.928 --> 00:00:32.403
我现在要写我自己的测试代码 我们要确保

00:00:32.403 --> 00:00:35.941
这些测试用例 我们并不期望能得出正确的结果 因为

00:00:35.941 --> 00:00:39.665
我测试的是只有 30 天的月份 那么 我要测试两个相同日期

00:00:39.665 --> 00:00:43.560
这是边界情况 对测试非常有用 我还要测试从某一天

00:00:43.560 --> 00:00:47.409
到它的下一天 这将会返回结果 1 这些就是对 daysBetweenDates 的测试了

00:00:47.409 --> 00:00:51.210
我还应该为 nextDay 写些测试用例

00:00:51.210 --> 00:00:54.060
原因是 如果它们出错了 那么相对而言会比较容易

00:00:54.060 --> 00:00:57.260
了解是哪儿出错了 比起只为 daysBetweenDays 写测试用例

00:00:57.260 --> 00:01:02.486
现在来试一些 nextDay 的测试用例 一种情况是天数递增

00:01:02.486 --> 00:01:08.262
一种情况是月份递增 这里我将使用一个拥有 30 天的月份

00:01:08.262 --> 00:01:14.082
这对“30天月份”的设定来说是正确的 但是当我们修正了月的天数时

00:01:14.082 --> 00:01:18.068
它还将是正确的 之后我将使用年数递增 这里只有几个测试例子

00:01:18.068 --> 00:01:23.198
或许我们应该用更多 但是先来试试吧 我们要保存 然后运行

00:01:23.198 --> 00:01:28.090
然后我们将运行我们的测试 然后 有些东西出错了 这很正常

00:01:28.090 --> 00:01:31.740
来看看是什么出错了 错误是一个 TypeError 显示当我调用

00:01:31.740 --> 00:01:36.380
daysInMonth 的时候 没有给它正确的参数数量 事实上 我只给了 0 个参数

00:01:36.380 --> 00:01:40.326
我应该要把年份和月份都输入给它 所以这就是

00:01:40.326 --> 00:01:44.050
我把一些东西先只写成雏形的原因 这样可以很快的发现这类错误

00:01:44.050 --> 00:01:48.239
再来试一遍 现在我们的测试就通过了 测试用例用了一些约束

00:01:48.239 --> 00:01:52.716
我将需要更加小心 在测试结束的时候显示一些东西出来

00:01:52.716 --> 00:01:56.864
因为如果当测试结束 却没有任何东西显示出来

00:01:56.864 --> 00:02:00.909
还是有点危险的 因为可能会因为一些其他原因不能得到任何输出

