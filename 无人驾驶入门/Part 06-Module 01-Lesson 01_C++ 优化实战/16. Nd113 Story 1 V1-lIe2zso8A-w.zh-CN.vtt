WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:03.345
现在 你们在学习所有这些神奇的知识时可能倍感艰辛

00:00:03.345 --> 00:00:05.393
例如 指针和内存分配

00:00:05.392 --> 00:00:06.990
我给大家讲个故事

00:00:06.990 --> 00:00:11.129
这是我经历过的最糟糕的无人驾驶车故障 我花了大力气才修好

00:00:11.130 --> 00:00:12.990
故障定位就花了我好几个月

00:00:12.990 --> 00:00:16.710
好的 我们现在回到 2005 年驾驶 Stanley

00:00:16.710 --> 00:00:18.855
这辆无人驾驶车 穿越莫哈维沙漠

00:00:18.855 --> 00:00:23.327
最初 车上有一台电脑 运行得不错

00:00:23.327 --> 00:00:25.020
然后 电脑超载了

00:00:25.019 --> 00:00:26.725
因此 我们加装了第二台电脑

00:00:26.725 --> 00:00:28.605
结果

00:00:28.605 --> 00:00:31.504
我们发现 隔每 40 英里

00:00:31.504 --> 00:00:35.394
机器人都会判定在它前面存在一道假墙

00:00:35.395 --> 00:00:38.220
结果就超级疯狂地转弯

00:00:38.219 --> 00:00:41.649
我们快被逼疯了 感觉要崩溃了

00:00:41.649 --> 00:00:44.534
然后 我们不得不介入 并采用人工驾驶

00:00:44.534 --> 00:00:47.039
我们知道 这场比赛长达 120 英里

00:00:47.039 --> 00:00:49.975
而每 40 英里 机器人就会出这样的问题 这导致了我们没法完成比赛

00:00:49.975 --> 00:00:51.774
那么问题出在哪里呢？

00:00:51.774 --> 00:00:53.969
我们检测了机器人 发现

00:00:53.969 --> 00:00:56.320
第一台电脑工作正常 而第二台则有问题

00:00:56.320 --> 00:00:58.020
我们很吃惊

00:00:58.020 --> 00:00:59.985
结果就是

00:00:59.984 --> 00:01:06.239
为此 我们放了一个计时器来记录数据的生成时间

00:01:06.239 --> 00:01:09.409
这样 我们就会知道这个障碍的持续时间

00:01:09.409 --> 00:01:11.364
现在 我们先不考虑这种做法的合理性

00:01:11.364 --> 00:01:13.259
回到两台计算机

00:01:13.260 --> 00:01:16.230
我们发现这两台计算机的时钟运行速度不同

00:01:16.230 --> 00:01:17.969
这在很常见 毕竟这是两台计算机中

00:01:17.969 --> 00:01:19.620
我们安装了计算机软件 C++

00:01:19.620 --> 00:01:22.560
来同步这两个时钟

00:01:22.560 --> 00:01:24.120
时不时地

00:01:24.120 --> 00:01:27.480
这种同步设置可以将一个时钟值往回拨

00:01:27.480 --> 00:01:30.390
由于测试取决于已经过去的时间

00:01:30.390 --> 00:01:34.784
因此回拨的时钟值不可能为负

00:01:34.784 --> 00:01:39.899
而车辆碰到地面稍微凸起的地方 就会上下颠簸

00:01:39.900 --> 00:01:45.188
这和时钟问题相结合 就造成了一个假障碍

00:01:45.188 --> 00:01:47.347
这个问题太折磨人了

00:01:47.346 --> 00:01:49.414
我们花了几个月的时间才确定故障

00:01:49.415 --> 00:01:51.325
为此 我们每天开车

00:01:51.325 --> 00:01:53.965
每 40 英里左右 我们就碰到这样的问题

00:01:53.965 --> 00:01:56.439
而且我们对原因一头雾水

00:01:56.439 --> 00:01:58.375
我之所以讲这个故事 是因为

00:01:58.375 --> 00:02:01.239
在你深入学习并成为软件工程师的过程中

00:02:01.239 --> 00:02:02.709
每一个细节都很重要

00:02:02.709 --> 00:02:06.489
而且你必须了解内存分配

00:02:06.489 --> 00:02:09.629
指针以及数据结构的工作原理

00:02:09.629 --> 00:02:10.960
因为如果你知道这些

00:02:10.960 --> 00:02:13.180
导致内存分配了两次

00:02:13.180 --> 00:02:15.145
或者忘了释放内存

00:02:15.145 --> 00:02:19.344
那么 在某个时间点上 你的无人驾驶车会出现致命的自杀行为

00:02:19.344 --> 00:02:21.349
所以 感谢你与我们一起坚持

00:02:21.349 --> 00:02:24.000
希望你能认识到我们刚刚所讲内容的重要性

