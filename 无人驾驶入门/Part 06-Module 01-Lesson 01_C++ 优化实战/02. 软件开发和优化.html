<!-- udacimak v1.3.0 -->
<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="ie=edge" http-equiv="X-UA-Compatible"/>
  <title>
   软件开发和优化
  </title>
  <link href="../assets/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="../assets/css/plyr.css" rel="stylesheet"/>
  <link href="../assets/css/katex.min.css" rel="stylesheet"/>
  <link href="../assets/css/jquery.mCustomScrollbar.min.css" rel="stylesheet"/>
  <link href="../assets/css/styles.css" rel="stylesheet"/>
  <link href="../assets/img/udacimak.png" rel="shortcut icon" type="image/png">
  </link>
 </head>
 <body>
  <div class="wrapper">
   <nav id="sidebar">
    <div class="sidebar-header">
     <h3>
      C++ 优化实战
     </h3>
    </div>
    <ul class="sidebar-list list-unstyled CTAs">
     <li>
      <a class="article" href="../index.html">
       Back to Home
      </a>
     </li>
    </ul>
    <ul class="sidebar-list list-unstyled components">
     <li class="">
      <a href="01. 介绍.html">
       01. 介绍
      </a>
     </li>
     <li class="">
      <a href="02. 软件开发和优化.html">
       02. 软件开发和优化
      </a>
     </li>
     <li class="">
      <a href="03. 优化技巧.html">
       03. 优化技巧
      </a>
     </li>
     <li class="">
      <a href="04. 无用代码.html">
       04. 无用代码
      </a>
     </li>
     <li class="">
      <a href="05. 练习：删除无用代码.html">
       05. 练习：删除无用代码
      </a>
     </li>
     <li class="">
      <a href="06. If 语句.html">
       06. If 语句
      </a>
     </li>
     <li class="">
      <a href="07. 练习：If 语句.html">
       07. 练习：If 语句
      </a>
     </li>
     <li class="">
      <a href="08. For 循环.html">
       08. For 循环
      </a>
     </li>
     <li class="">
      <a href="09. 练习：for 循环.html">
       09. 练习：for 循环
      </a>
     </li>
     <li class="">
      <a href="10. 中间变量.html">
       10. 中间变量
      </a>
     </li>
     <li class="">
      <a href="11. 练习：中间变量.html">
       11. 练习：中间变量
      </a>
     </li>
     <li class="">
      <a href="12. 向量存储.html">
       12. 向量存储
      </a>
     </li>
     <li class="">
      <a href="13. 练习：向量存储.html">
       13. 练习：向量存储
      </a>
     </li>
     <li class="">
      <a href="14. 引用.html">
       14. 引用
      </a>
     </li>
     <li class="">
      <a href="15. 练习：引用.html">
       15. 练习：引用
      </a>
     </li>
     <li class="">
      <a href="16. Sebastian 的故事.html">
       16. Sebastian 的故事
      </a>
     </li>
     <li class="">
      <a href="17. 静态关键词.html">
       17. 静态关键词
      </a>
     </li>
     <li class="">
      <a href="18. 练习：静态关键词.html">
       18. 练习：静态关键词
      </a>
     </li>
     <li class="">
      <a href="19. 速度挑战.html">
       19. 速度挑战
      </a>
     </li>
    </ul>
    <ul class="sidebar-list list-unstyled CTAs">
     <li>
      <a class="article" href="../index.html">
       Back to Home
      </a>
     </li>
    </ul>
   </nav>
   <div id="content">
    <header class="container-fluild header">
     <div class="container">
      <div class="row">
       <div class="col-12">
        <div class="align-items-middle">
         <button class="btn btn-toggle-sidebar" id="sidebarCollapse" type="button">
          <div>
          </div>
          <div>
          </div>
          <div>
          </div>
         </button>
         <h1 style="display: inline-block">
          02. 软件开发和优化
         </h1>
        </div>
       </div>
      </div>
     </div>
    </header>
    <main class="container">
     <div class="row">
      <div class="col-12">
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h2 id="软件开发">
          软件开发
         </h2>
         <p>
          编写功能正常的代码当然是软件开发者的首要目标。在有些应用中，代码效率可能非常重要。
         </p>
         <p>
          代码开发过程可以分解为以下步骤：
         </p>
         <ul>
          <li>
           代码设计
          </li>
          <li>
           设计部署
          </li>
          <li>
           测试和故障修复
          </li>
          <li>
           优化
          </li>
         </ul>
         <p>
          关于这些步骤（设计、部署、测试）的详细说明，请参见
          <a href="https://en.wikibooks.org/wiki/Optimizing_C%2B%2B/Optimization_life_cycle" target="_blank">
           链接
          </a>
          。
         </p>
         <p>
          之前讲过，代码优化包括很多方面，涉及到硬件、编译器、算法和 C++ 语言本身。本课中，我们重点研究 C++ 语言。你刚刚学过的 CPU 和 RAM 知识有助于你了解代码为什么可以运行更快。
         </p>
         <p>
          你将有机会了解并应用一些可以让 C++ 运行更快的技巧。每个练习都提供了一个“较慢的”代码版本，以及让代码更快的技巧。你需要应用该技巧，然后查看代码运行速度有多大提升。这些技巧并不是优化 C++ 代码的所有方式，但可以帮助你了解内存、CPU 和编码选择是如何影响代码运行速度的。
         </p>
         <p>
          在课程最后，你会收到一些文件，它们构成了一个可正常工作的 C++ 直方图滤波器。你的任务，是使用本课学到的技巧，让直方图滤波器代码运行更快。
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h2 id="如何优化：测试-vs-直觉">
          如何优化：测试 vs 直觉
         </h2>
         <p>
          要优化你的代码，你需要靠测试和验证，而不是直觉！
         </p>
         <p>
          测试你的代码，找到在时间、内存和电力使用方面最低效的区域。然后，确认你做的所有变更的确让代码更高效了。如果你先测试，你可能发现，你的代码可能已经足够高效，可以满足应用要求了。
         </p>
         <p>
          如果你在优化大量代码，你可能需要使用分析器 (Profiler) 工具。Profiler 是一个软件，可以测量部分代码执行所需时间或代码使用多少资源。它能帮助你找到拥塞点，让你先优化最低效的代码部分。
         </p>
         <p>
          Visual Studio 和 Xcode 都带有分析器。以下链接提供了相关介绍：
         </p>
         <ul>
          <li>
           <a href="https://docs.microsoft.com/en-us/visualstudio/profiling/beginners-guide-to-performance-profiling" target="_blank">
            Visual Studio 中的分析
           </a>
          </li>
          <li>
           <a href="https://developer.apple.com/library/content/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/index.html" target="_blank">
            Xcode 中的分析
           </a>
          </li>
         </ul>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h3 id="使用标准时钟测试你的代码">
          使用标准时钟测试你的代码
         </h3>
         <p>
          在下面的练习中，我们为你设置了一些简单的代码。你需要测量使用 C++ 标准时钟运行函数需要多久。
         </p>
         <p>
          优化方式为：
         </p>
         <ul>
          <li>
           测量函数运行所需时间
          </li>
          <li>
           修改部分代码
          </li>
          <li>
           再次运行代码，检查速度有无提升
          </li>
         </ul>
         <p>
          分析代码已经为你设置好了，看起来是这样的：
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <pre><code class="c++ language-c++">#include &lt;ctime&gt;

std::clock_t start;
double duration;

start = std::clock();

function_name(var1, var2);

duration = ( std::clock() - start ) / (double) CLOCKS_PER_SEC;

std::cout &lt;&lt; "duration milliseconds initialize beliefs " &lt;&lt; 1000 * duration &lt;&lt; '\n';</code></pre>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <p>
          代码首先存储当前的标准时钟时间，然后运行函数，然后计算所用的时间。
         </p>
         <p>
          标准库始终使用
          <strong>
           时钟周期
          </strong>
          测量时间。时钟周期类似计数器变量，随时间以恒定速率增加。但时间长度因系统而异。因此，除以常量 CLOCKS_PER_SEC 后，即可得到以秒为单位的结果。CLOCKS_PER_SEC 变量在 ctime 库中定义。
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
         <p>
          编程最重要的部分
         </p>
        </h3>
        <div>
         <form>
          <fieldset>
           <legend>
            <p>
             编程中最重要的部分一般是什么？
            </p>
           </legend>
          </fieldset>
          <div>
           <input id="a1509648490462" name="466438" type="radio" value="a1509648490462"/>
           <label for="a1509648490462">
            <p>
             分析代码
            </p>
           </label>
          </div>
          <div>
           <input id="a1509648503498" name="466438" type="radio" value="a1509648503498"/>
           <label for="a1509648503498">
            <p>
             优化代码
            </p>
           </label>
          </div>
          <div>
           <input id="a1509648504057" name="466438" type="radio" value="a1509648504057"/>
           <label for="a1509648504057">
            <p>
             获得符合功能预期的代码
            </p>
           </label>
          </div>
          <div>
           <input id="a1509648504537" name="466438" type="radio" value="a1509648504537"/>
           <label for="a1509648504537">
            <p>
             获得使用资源更少的代码
            </p>
           </label>
          </div>
         </form>
         <details>
          <summary>
           <strong>
            SOLUTION:
           </strong>
          </summary>
          获得符合功能预期的代码
         </details>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
         <p>
          时钟周期
         </p>
        </h3>
        <div>
         <form>
          <fieldset>
           <legend>
            <p>
             判断：调用 std::clock() 之间的时间间隔等于真实世界中消逝的时间。
            </p>
           </legend>
          </fieldset>
          <div>
           <input id="a1509648553251" name="466440" type="radio" value="a1509648553251"/>
           <label for="a1509648553251">
            <p>
             是
            </p>
           </label>
          </div>
          <div>
           <input id="a1509648564215" name="466440" type="radio" value="a1509648564215"/>
           <label for="a1509648564215">
            <p>
             否
            </p>
           </label>
          </div>
         </form>
         <details>
          <summary>
           <strong>
            SOLUTION:
           </strong>
          </summary>
          否
         </details>
        </div>
       </div>
       <div class="divider">
       </div>
      </div>
      <div class="col-12">
       <p class="text-right">
        <a class="btn btn-outline-primary mt-4" href="03. 优化技巧.html" role="button">
         Next Concept
        </a>
       </p>
      </div>
     </div>
    </main>
    <footer class="footer">
     <div class="container">
      <div class="row">
       <div class="col-12">
        <p class="text-center">
         udacity2.0 If you need the newest courses Plase add me wechat: udacity6
        </p>
       </div>
      </div>
     </div>
    </footer>
   </div>
  </div>
  <script src="../assets/js/jquery-3.3.1.min.js">
  </script>
  <script src="../assets/js/plyr.polyfilled.min.js">
  </script>
  <script src="../assets/js/bootstrap.min.js">
  </script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js">
  </script>
  <script src="../assets/js/katex.min.js">
  </script>
  <script>
   // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('02. 软件开发和优化')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
 </body>
</html>
