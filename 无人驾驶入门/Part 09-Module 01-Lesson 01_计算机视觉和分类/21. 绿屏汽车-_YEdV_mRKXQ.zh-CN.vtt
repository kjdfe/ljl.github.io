WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:03.529
刚开始 我们先看看绿色屏幕背景上的这幅汽车图像

00:00:03.529 --> 00:00:05.639
首先 我们必须识别绿色区域

00:00:05.639 --> 00:00:08.414
然后 你可以将其替换为背景图像

00:00:08.414 --> 00:00:09.621
我们打开了一个 Python 笔记本

00:00:09.621 --> 00:00:12.210
第一步是导入我们需要的库

00:00:12.210 --> 00:00:14.025
我们整堂课都会使用这些

00:00:14.025 --> 00:00:16.286
要绘制并读入图像

00:00:16.286 --> 00:00:19.329
我会导入 matplotlib.pyplot 和 matplotlib.image

00:00:19.329 --> 00:00:20.861
要在图像上操作

00:00:20.861 --> 00:00:25.794
我会使用 numpy 和计算机视觉库 opencv 名称为 cv2

00:00:25.795 --> 00:00:30.425
接下来 你可以看到 我已经使用 mpimg.imread 读入了汽车图像

00:00:30.425 --> 00:00:34.895
这幅图和笔记本在同一个文件夹下 文件夹叫 images

00:00:34.895 --> 00:00:39.030
读入之后 我想打印一些图像的信息

00:00:39.030 --> 00:00:41.969
后面 你想向绿色部分添加不同背景时

00:00:41.969 --> 00:00:44.729
该信息会比较有用

00:00:44.729 --> 00:00:48.049
我这里打印了 shape 它会告诉我们图像大小

00:00:48.049 --> 00:00:50.339
这里是显示图像

00:00:50.340 --> 00:00:52.560
我们看到了预期的输出

00:00:52.560 --> 00:00:55.200
图像是由值组成的一个阵列 它的形状包括

00:00:55.200 --> 00:00:58.605
三个值 单表了图像阵列的大小

00:00:58.604 --> 00:01:01.049
首先 高度 450 像素

00:01:01.049 --> 00:01:03.969
汽车 宽度 660 像素

00:01:03.969 --> 00:01:06.795
最后 它有多少颜色分量？

00:01:06.795 --> 00:01:08.549
在本例中 有 3 个

00:01:08.549 --> 00:01:11.795
红色、绿色和蓝色值各一个。

00:01:11.795 --> 00:01:13.620
OK 我们现在得到了绿色屏幕图像

00:01:13.620 --> 00:01:15.925
我们开始绿色屏幕遮罩

00:01:15.924 --> 00:01:19.590
遮罩的意思是 屏蔽图像中的部分区域

00:01:19.590 --> 00:01:21.463
要创建一个遮罩

00:01:21.462 --> 00:01:23.824
我首先创建一个颜色阈值

00:01:23.825 --> 00:01:27.525
定义我要隔离的颜色 绿色 的颜色上限和下限

00:01:27.525 --> 00:01:31.755
这里定义一个下限 包括仍被视作绿色屏幕背景的一部分的

00:01:31.754 --> 00:01:35.771
红色、绿色和蓝色的最低值

00:01:35.772 --> 00:01:38.310
这是按顺序的三个值的阵列

00:01:38.310 --> 00:01:40.575
红色、绿色和蓝色值

00:01:40.575 --> 00:01:42.260
对红色和蓝色

00:01:42.260 --> 00:01:43.489
我会把这些设为 0

00:01:43.489 --> 00:01:48.817
意思是 识别这个绿色屏幕区域时 可以没有红色或蓝色

00:01:48.817 --> 00:01:52.274
但绿色的最低值仍然要很高

00:01:52.275 --> 00:01:54.219
用不着高到 255

00:01:54.219 --> 00:01:56.150
我们这里选 200

00:01:56.150 --> 00:01:58.155
然后 我定义上限

00:01:58.155 --> 00:02:01.769
定义时 我会允许多一点红色和蓝色 比如 每个都设为 50

00:02:01.769 --> 00:02:05.234
我把绿色的最高值设为 255

00:02:05.234 --> 00:02:08.775
现在 上限和下限的区间内的任何颜色

00:02:08.775 --> 00:02:11.064
都是明亮的绿色

00:02:11.064 --> 00:02:12.435
但我现在只是在估算

00:02:12.435 --> 00:02:16.080
因此 如果我发现这个范围找不到我想要的绿色屏幕

00:02:16.080 --> 00:02:18.530
我会回到这里 更改这些值

00:02:18.530 --> 00:02:22.814
接下来 我会使用这些颜色阈值创建一个图像遮罩

00:02:22.814 --> 00:02:25.454
遮罩是很常用的方式 可以隔离

00:02:25.455 --> 00:02:29.240
感兴趣的选择区域 并对其进行一些操作

00:02:29.240 --> 00:02:34.350
我们使用 opencv 的 inRange 函数在绿色区域上创建一个遮罩

00:02:34.349 --> 00:02:38.079
这个函数代入一个图像和我们的颜色下限和上限

